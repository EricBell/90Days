flowchart LR
subgraph cookbook_project1_index_js[cookbook/project1/index.js]
  cookbook_project1_index_js_L1C0_L180C0["main"]
end
subgraph cookbook_project1_public_client_js[cookbook/project1/public/client.js]
  cookbook_project1_public_client_js_L1C0_L368C0["main"]
  subgraph cookbook_project1_public_client_js_L6C0_L362C1[ChatApp]
    cookbook_project1_public_client_js_L7C2_L39C3["constructor()"]
    cookbook_project1_public_client_js_L7C2_L39C3["constructor()"] --> cookbook_project1_public_client_js_L55C2_L64C3["getOrCreateSessionId()"]
    cookbook_project1_public_client_js_L7C2_L39C3["constructor()"] --> cookbook_project1_public_client_js_L44C2_L50C3["init()"]
    cookbook_project1_public_client_js_L44C2_L50C3["init()"]
    cookbook_project1_public_client_js_L44C2_L50C3["init()"] --> cookbook_project1_public_client_js_L69C2_L86C3["setupEventListeners()"]
    cookbook_project1_public_client_js_L44C2_L50C3["init()"] --> cookbook_project1_public_client_js_L91C2_L130C3["connectSSE()"]
    cookbook_project1_public_client_js_L44C2_L50C3["init()"] --> cookbook_project1_public_client_js_L299C2_L321C3["addWelcomeMessage()"]
    cookbook_project1_public_client_js_L55C2_L64C3["getOrCreateSessionId()"]
    cookbook_project1_public_client_js_L69C2_L86C3["setupEventListeners()"]
    cookbook_project1_public_client_js_L69C2_L86C3["setupEventListeners()"] --> cookbook_project1_public_client_js_L161C2_L199C3["sendMessage()"]
    cookbook_project1_public_client_js_L91C2_L130C3["connectSSE()"]
    cookbook_project1_public_client_js_L91C2_L130C3["connectSSE()"] --> cookbook_project1_public_client_js_L326C2_L328C3["updateConnectionStatus(message, connected)"]
    cookbook_project1_public_client_js_L91C2_L130C3["connectSSE()"] --> cookbook_project1_public_client_js_L333C2_L342C3["updateSendButtonState()"]
    cookbook_project1_public_client_js_L91C2_L130C3["connectSSE()"] --> cookbook_project1_public_client_js_L135C2_L156C3["handleSSEMessage(data)"]
    cookbook_project1_public_client_js_L91C2_L130C3["connectSSE()"] --> cookbook_project1_public_client_js_L91C2_L130C3["connectSSE()"]
    cookbook_project1_public_client_js_L135C2_L156C3["handleSSEMessage(data)"]
    cookbook_project1_public_client_js_L135C2_L156C3["handleSSEMessage(data)"] --> cookbook_project1_public_client_js_L239C2_L256C3["appendToAssistantMessage(content)"]
    cookbook_project1_public_client_js_L135C2_L156C3["handleSSEMessage(data)"] --> cookbook_project1_public_client_js_L261C2_L275C3["finalizeAssistantMessage()"]
    cookbook_project1_public_client_js_L135C2_L156C3["handleSSEMessage(data)"] --> cookbook_project1_public_client_js_L280C2_L294C3["handleStreamError(message)"]
    cookbook_project1_public_client_js_L161C2_L199C3["sendMessage()"]
    cookbook_project1_public_client_js_L161C2_L199C3["sendMessage()"] --> cookbook_project1_public_client_js_L333C2_L342C3["updateSendButtonState()"]
    cookbook_project1_public_client_js_L161C2_L199C3["sendMessage()"] --> cookbook_project1_public_client_js_L204C2_L222C3["addMessage(content, role)"]
    cookbook_project1_public_client_js_L161C2_L199C3["sendMessage()"] --> cookbook_project1_public_client_js_L227C2_L234C3["prepareAssistantMessage()"]
    cookbook_project1_public_client_js_L161C2_L199C3["sendMessage()"] --> cookbook_project1_public_client_js_L280C2_L294C3["handleStreamError(message)"]
    cookbook_project1_public_client_js_L204C2_L222C3["addMessage(content, role)"]
    cookbook_project1_public_client_js_L204C2_L222C3["addMessage(content, role)"] --> cookbook_project1_public_client_js_L354C2_L361C3["escapeHtml(unsafe)"]
    cookbook_project1_public_client_js_L204C2_L222C3["addMessage(content, role)"] --> cookbook_project1_public_client_js_L347C2_L349C3["scrollToBottom()"]
    cookbook_project1_public_client_js_L227C2_L234C3["prepareAssistantMessage()"]
    cookbook_project1_public_client_js_L227C2_L234C3["prepareAssistantMessage()"] --> cookbook_project1_public_client_js_L347C2_L349C3["scrollToBottom()"]
    cookbook_project1_public_client_js_L239C2_L256C3["appendToAssistantMessage(content)"]
    cookbook_project1_public_client_js_L239C2_L256C3["appendToAssistantMessage(content)"] --> cookbook_project1_public_client_js_L227C2_L234C3["prepareAssistantMessage()"]
    cookbook_project1_public_client_js_L239C2_L256C3["appendToAssistantMessage(content)"] --> cookbook_project1_public_client_js_L347C2_L349C3["scrollToBottom()"]
    cookbook_project1_public_client_js_L261C2_L275C3["finalizeAssistantMessage()"]
    cookbook_project1_public_client_js_L261C2_L275C3["finalizeAssistantMessage()"] --> cookbook_project1_public_client_js_L333C2_L342C3["updateSendButtonState()"]
    cookbook_project1_public_client_js_L280C2_L294C3["handleStreamError(message)"]
    cookbook_project1_public_client_js_L280C2_L294C3["handleStreamError(message)"] --> cookbook_project1_public_client_js_L204C2_L222C3["addMessage(content, role)"]
    cookbook_project1_public_client_js_L280C2_L294C3["handleStreamError(message)"] --> cookbook_project1_public_client_js_L333C2_L342C3["updateSendButtonState()"]
    cookbook_project1_public_client_js_L299C2_L321C3["addWelcomeMessage()"]
    cookbook_project1_public_client_js_L299C2_L321C3["addWelcomeMessage()"] --> cookbook_project1_public_client_js_L204C2_L222C3["addMessage(content, role)"]
    cookbook_project1_public_client_js_L326C2_L328C3["updateConnectionStatus(message, connected)"]
    cookbook_project1_public_client_js_L333C2_L342C3["updateSendButtonState()"]
    cookbook_project1_public_client_js_L347C2_L349C3["scrollToBottom()"]
    cookbook_project1_public_client_js_L354C2_L361C3["escapeHtml(unsafe)"]
  end
end
  cookbook_project1_public_client_js_L1C0_L368C0["main"] -.-> cookbook_project1_public_client_js_L7C2_L39C3["constructor()"]
%% svg style
classDef sourceFileSubgraph fill-opacity: 0
class cookbook_project1_index_js sourceFileSubgraph
class cookbook_project1_public_client_js sourceFileSubgraph
